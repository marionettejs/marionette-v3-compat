{"version":3,"file":"marionette-v3-compat.js","sources":["src/ApplicationWreqr.js","src/bindEntityEvents.js","src/childEvents.js","src/utils/restoreFunction.js","src/CollectionView.js","src/CompositeView.js","src/Controller.js","src/deprecatedEvents.js","src/getChildView.js","src/ItemView.js","src/LayoutView.js","src/Module.js","src/normalizeUi.js","src/proxyFunctions.js","src/Region.js","src/RegionManager.js","src/RegionShowEvent.js","src/regionsOnApplication.js","src/regionsOnView.js","src/RegionStaticMethods.js","src/templateHelpers.js","src/triggerProxy.js","src/viewOptions.js","src/marionette-v3-compat.js"],"sourcesContent":["import _ from 'underscore';\nimport Radio from 'backbone.radio';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  function dep() {\n    Marionette.deprecate('Global channels are deprecated.  Create your own Radio channels.');\n  }\n\n  const originalConstructor = Marionette.Application.prototype.constructor;\n\n  Marionette.Application = Marionette.Application.extend({\n    constructor: function() {\n      this._initV2Channel();\n      originalConstructor.apply(this, arguments);\n    },\n\n    // Command execution, facilitated by Backbone.Wreqr.Commands\n    execute: function() {\n      this.commands.execute.apply(this.commands, arguments);\n    },\n\n    // Request/response, facilitated by Backbone.Wreqr.RequestResponse\n    request: function() {\n      return this.reqres.request.apply(this.reqres, arguments);\n    },\n\n    _initV2Channel: function() {\n      this.channelName = _.result(this, 'channelName') || 'global';\n      this.channel = _.result(this, 'channel') || Radio.channel(this.channelName);\n      this.channel.__deprecateChannel = true;\n      this.vent = this.channel;\n      this.reqres = this.channel;\n      this.commands = this.channel;\n\n      const channelOn = this.channel.on;\n\n      this.channel.on = function() {\n        dep();\n        return channelOn.apply(this, arguments);\n      };\n\n      const channelRequest = this.channel.request;\n\n      this.channel.request = function() {\n        dep();\n        return channelRequest.apply(this, arguments);\n      };\n\n      this.channel.execute = function() {\n        dep();\n        Marionette.deprecate('Channel commands are deprecated.  Use requests.');\n        return channelRequest.apply(this, arguments);\n      };\n\n      const listenTo = Marionette.Object.listenTo;\n\n      Marionette.Object.listenTo = function(obj) {\n        if (obj.__deprecateChannel) { dep(); }\n        listenTo.apply(this, arguments);\n      };\n    }\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  var originalBind = Marionette.bindEvents;\n  var originalUnbind = Marionette.unbindEvents;\n\n  Marionette.bindEvents = function(context, entity, bindings) {\n    if (_.isFunction(bindings)) {\n      Marionette.deprecate('bindEvents no longer accepts bindings as a function in v3');\n      bindings = bindings.call(context);\n    }\n    return originalBind(context, entity, bindings);\n  };\n\n  Marionette.unbindEvents = function(context, entity, bindings) {\n    if (_.isFunction(bindings)) {\n      Marionette.deprecate('unbindEvents no longer accepts bindings as a function in v3');\n      bindings = bindings.call(context);\n    }\n    return originalUnbind(context, entity, bindings);\n  };\n\n  Marionette.bindEntityEvents = function(context, entity, bindings) {\n    Marionette.deprecate('bindEntityEvents has been renamed to bindEvents in v3.');\n    return Marionette.bindEvents(context, entity, bindings);\n  };\n\n  Marionette.unbindEntityEvents = function(context, entity, bindings) {\n    Marionette.deprecate('unbindEntityEvents renamed to unbindEvents in v3.');\n    return Marionette.unbindEvents(context, entity, bindings);\n  };\n\n  const bindEventsMixin = {\n    bindEntityEvents(...args) {\n      Marionette.deprecate('bindEntityEvents has been renamed to bindEvents in v3.');\n      return Marionette.bindEvents(this, ...args);\n    },\n    unbindEntityEvents(...args) {\n      Marionette.deprecate('unbindEntityEvents renamed to unbindEvents in v3.');\n      return Marionette.unbindEvents(this, ...args);\n\n    }\n  };\n\n  _.extend(Marionette.Object.prototype, bindEventsMixin);\n\n  _.extend(Marionette.View.prototype, bindEventsMixin);\n\n  _.extend(Marionette.CollectionView.prototype, bindEventsMixin);\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  // Cache `childViewEvents` and `childViewTriggers`\n  function _buildEventProxies() {\n    if (this.childEvents || this.options.childEvents) {\n      Marionette.deprecate('childEvents are deprecated. Use childViewEvents');\n      this.mergeOptions(this.options, ['childEvents']);\n      this._childViewEvents = _.result(this, 'childEvents');\n    } else {\n      this._childViewEvents = _.result(this, 'childViewEvents');\n    }\n\n    this._childViewTriggers = _.result(this, 'childViewTriggers');\n  }\n\n  _.extend(Marionette.View.prototype, {\n    _buildEventProxies\n  });\n\n  _.extend(Marionette.CollectionView.prototype, {\n    _buildEventProxies\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function(privateFunction, publicFunction, deprecation, ClassName) {\n  const original = Marionette[ClassName].prototype[privateFunction];\n  const options = {};\n\n  options[privateFunction] = function() {\n    this._nodep = true;\n    return this[publicFunction].apply(this, arguments);\n  }\n\n  options[publicFunction] = function() {\n    if (this._nodep) {\n      this._nodep = false;\n    } else {\n      Marionette.deprecate(deprecation);\n    }\n    return original.apply(this, arguments);\n  }\n\n  _.extend(Marionette[ClassName].prototype, options);\n}\n","import _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\nimport restoreFunction from './utils/restoreFunction';\nexport default function() {\n\n  restoreFunction('_endBuffering', 'endBuffering', 'endBuffering is now private.', 'CollectionView');\n  restoreFunction('_startBuffering', 'startBuffering', 'startBuffering is now private.', 'CollectionView');\n  restoreFunction('_showCollection', 'showCollection', 'showCollection is now private.', 'CollectionView');\n  restoreFunction('_showEmptyView', 'showEmptyView', 'showEmptyView is now private.', 'CollectionView');\n  restoreFunction('_destroyEmptyView', 'destroyEmptyView', 'destroyEmptyView is now private.', 'CollectionView');\n  restoreFunction('_checkEmpty', 'checkEmpty', 'checkEmpty is now private.', 'CollectionView');\n  restoreFunction('_destroyChildren', 'destroyChildren', 'destroyChildren is now private.', 'CollectionView');\n  restoreFunction('_proxyChildEvents', 'proxyChildEvents', 'proxyChildEvents is now private.', 'CollectionView');\n  restoreFunction('_addChild', 'addChild', 'addChild is now private.', 'CollectionView');\n\n  const originalConstructor = Marionette.CollectionView.prototype.constructor;\n\n  _.extend(Marionette.CollectionView.prototype, {\n    constructor() {\n      Backbone.Events.on.call(this, 'render:children', function() { this.triggerMethod('render:collection', this); });\n      Backbone.Events.on.call(this, 'before:render:children', function() { this.triggerMethod('before:render:collection', this); });\n      originalConstructor.apply(this, arguments);\n    },\n    initRenderBuffer() {\n      Marionette.deprecate('initRenderBuffer is now private.');\n      this._bufferedChildren = [];\n    }\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\nexport default function() {\n\n\n  const originalRenderTemp = Marionette.CompositeView.prototype._renderTemplate;\n\n  _.extend(Marionette.CompositeView.prototype, {\n    _renderTemplate() {\n      this.triggerMethod('before:render:template');\n      originalRenderTemp.apply(this, arguments);\n      this.triggerMethod('render:template');\n    }\n  });\n}\n","import Marionette from 'backbone.marionette';\n\nexport default function() {\n  Marionette.Controller = Marionette.Object.extend({\n    constructor(options) {\n      this.options = options || {};\n\n      const args = Array.prototype.slice.call(arguments);\n      args[0] = this.options;\n\n      Marionette.deprecate('Marionette.Controller is deprecated. Use Marionette.Object');\n      Marionette.Object.prototype.constructor.apply(this, args);\n    },\n\n    destroy: function(...args) {\n      this.triggerMethod('before:destroy', ...args);\n      this.triggerMethod('destroy', ...args);\n      this.stopListening();\n\n      return this;\n    }\n  });\n}\n","import _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n  const deprecatedEvents = {\n    'render:collection': true,\n    'render:template': true\n  };\n\n  const dep = function(name) {\n    Marionette.deprecate(`${ name } event is deprecated.`);\n  }\n\n  const listenTo = Backbone.View.prototype.listenTo;\n\n  Backbone.View.prototype.listenTo = function(obj, name) {\n    if (deprecatedEvents[name]) { dep(name); }\n    if (_.isObject(name)) {\n      _.each(name, function(value, key) {\n        if (deprecatedEvents[key]) { dep(key); }\n      });\n    }\n    listenTo.apply(this, arguments);\n  }\n\n  const on = Backbone.View.prototype.on;\n\n  Backbone.View.prototype.on = function(name) {\n    if (deprecatedEvents[name]) { dep(name); }\n    if (_.isObject(name)) {\n      _.each(name, function(value, key) {\n        if (deprecatedEvents[key]) { dep(key); }\n      });\n    }\n    on.apply(this, arguments);\n  }\n};\n","import Marionette from 'backbone.marionette';\nimport restoreFunction from './utils/restoreFunction';\n\nexport default function() {\n\n  const originalPublicGetChildView = Marionette.View.prototype.getChildView;\n\n  restoreFunction('_getChildView', 'getChildView', 'getChildView is deprecated. Use childView instead.', 'CollectionView');\n  restoreFunction('_getEmptyView', 'getEmptyView', 'getEmptyView is deprecated. Use emptyView instead.', 'View');\n\n  const restoredPublicGetChildView = Marionette.View.prototype.getChildView;\n\n  Marionette.View = Marionette.View.extend({\n    getChildView() {\n      if (arguments.length) {\n        return originalPublicGetChildView.apply(this, arguments);\n      }\n\n      return restoredPublicGetChildView.apply(this, arguments);\n    }\n  });\n}\n","import Marionette from 'backbone.marionette';\n\nexport default function() {\n  Marionette.ItemView = Marionette.View.extend({\n    constructor() {\n      Marionette.deprecate('Marionette.ItemView is deprecated. Use Marionette.View');\n      Marionette.View.prototype.constructor.apply(this, arguments);\n    }\n  });\n}\n","import Marionette from 'backbone.marionette';\n\nexport default function() {\n  Marionette.LayoutView = Marionette.View.extend({\n    constructor() {\n      Marionette.deprecate('Marionette.LayoutView is deprecated. Use Marionette.View');\n      Marionette.View.prototype.constructor.apply(this, arguments);\n    }\n  });\n}\n","import _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  const originalConstructor = Marionette.Application.prototype.constructor;\n\n  Marionette.Deferred = function() {\n    Marionette.deprecate('Marionette.Deferred is deprecated and removed in v3.');\n    return Backbone.$.Deferred.apply(this, arguments);\n  };\n\n  Marionette.Application = Marionette.Application.extend({\n    constructor: function() {\n      this._initCallbacks = new Marionette.Callbacks();\n      this.submodules = {};\n      originalConstructor.apply(this, arguments);\n    },\n\n    addInitializer: function(initializer) {\n      Marionette.deprecate('Application Initializers are deprecated and removed in v3.');\n      this._initCallbacks.add(initializer);\n    },\n\n    start: function(options) {\n      this.triggerMethod('before:start', options);\n      this._initCallbacks.run(options, this);\n      this.triggerMethod('start', options);\n    },\n\n    module: function(moduleNames, moduleDefinition) {\n\n      // Overwrite the module class if the user specifies one\n      var ModuleClass = Marionette.Module.getClass(moduleDefinition);\n\n      var args = _.toArray(arguments);\n      args.unshift(this);\n\n      // see the Marionette.Module object for more information\n      return ModuleClass.create.apply(ModuleClass, args);\n    }\n  });\n\n\n  // Callbacks\n  // ---------\n\n  // A simple way of managing a collection of callbacks\n  // and executing them at a later point in time, using jQuery's\n  // `Deferred` object.\n  Marionette.Callbacks = function() {\n    this._deferred = Marionette.Deferred();\n    this._callbacks = [];\n  };\n\n  _.extend(Marionette.Callbacks.prototype, {\n\n    // Add a callback to be executed. Callbacks added here are\n    // guaranteed to execute, even if they are added after the\n    // `run` method is called.\n    add: function(callback, contextOverride) {\n      var promise = _.result(this._deferred, 'promise');\n\n      this._callbacks.push({cb: callback, ctx: contextOverride});\n\n      promise.then(function(args) {\n        if (contextOverride) { args.context = contextOverride; }\n        callback.call(args.context, args.options);\n      });\n    },\n\n    // Run all registered callbacks with the context specified.\n    // Additional callbacks can be added after this has been run\n    // and they will still be executed.\n    run: function(options, context) {\n      this._deferred.resolve({\n        options: options,\n        context: context\n      });\n    },\n\n    // Resets the list of callbacks to be run, allowing the same list\n    // to be run multiple times - whenever the `run` method is called.\n    reset: function() {\n      var callbacks = this._callbacks;\n      this._deferred = Marionette.Deferred();\n      this._callbacks = [];\n\n      _.each(callbacks, function(cb) {\n        this.add(cb.cb, cb.ctx);\n      }, this);\n    }\n  });\n\n  // A simple module system, used to create privacy and encapsulation in\n  // Marionette applications\n  Marionette.Module = function(moduleName, app, options) {\n    Marionette.deprecate('Marionette.module is deprecated and removed in v3.');\n\n    this.moduleName = moduleName;\n    this.options = _.extend({}, this.options, options);\n    // Allow for a user to overide the initialize\n    // for a given module instance.\n    this.initialize = options.initialize || this.initialize;\n\n    // Set up an internal store for sub-modules.\n    this.submodules = {};\n\n    this._setupInitializersAndFinalizers();\n\n    // Set an internal reference to the app\n    // within a module.\n    this.app = app;\n\n    if (_.isFunction(this.initialize)) {\n      this.initialize(moduleName, app, this.options);\n    }\n  };\n\n  Marionette.Module.extend = Marionette.extend;\n\n  // Extend the Module prototype with events / listenTo, so that the module\n  // can be used as an event aggregator or pub/sub.\n  _.extend(Marionette.Module.prototype, Backbone.Events, {\n\n    // By default modules start with their parents.\n    startWithParent: true,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic when extending Marionette.Module.\n    initialize: function() {},\n\n    // Initializer for a specific module. Initializers are run when the\n    // module's `start` method is called.\n    addInitializer: function(callback) {\n      this._initializerCallbacks.add(callback);\n    },\n\n    // Finalizers are run when a module is stopped. They are used to teardown\n    // and finalize any variables, references, events and other code that the\n    // module had set up.\n    addFinalizer: function(callback) {\n      this._finalizerCallbacks.add(callback);\n    },\n\n    // Start the module, and run all of its initializers\n    start: function(options) {\n      // Prevent re-starting a module that is already started\n      if (this._isInitialized) { return; }\n\n      // start the sub-modules (depth-first hierarchy)\n      _.each(this.submodules, function(mod) {\n        // check to see if we should start the sub-module with this parent\n        if (mod.startWithParent) {\n          mod.start(options);\n        }\n      });\n\n      // run the callbacks to \"start\" the current module\n      this.triggerMethod('before:start', options);\n\n      this._initializerCallbacks.run(options, this);\n      this._isInitialized = true;\n\n      this.triggerMethod('start', options);\n    },\n\n    // Stop this module by running its finalizers and then stop all of\n    // the sub-modules for this module\n    stop: function() {\n      // if we are not initialized, don't bother finalizing\n      if (!this._isInitialized) { return; }\n      this._isInitialized = false;\n\n      this.triggerMethod('before:stop');\n\n      // stop the sub-modules; depth-first, to make sure the\n      // sub-modules are stopped / finalized before parents\n      _.invoke(this.submodules, 'stop');\n\n      // run the finalizers\n      this._finalizerCallbacks.run(undefined, this);\n\n      // reset the initializers and finalizers\n      this._initializerCallbacks.reset();\n      this._finalizerCallbacks.reset();\n\n      this.triggerMethod('stop');\n    },\n\n    // Configure the module with a definition function and any custom args\n    // that are to be passed in to the definition function\n    addDefinition: function(moduleDefinition, customArgs) {\n      this._runModuleDefinition(moduleDefinition, customArgs);\n    },\n\n    // Internal method: run the module definition function with the correct\n    // arguments\n    _runModuleDefinition: function(definition, customArgs) {\n      // If there is no definition short circut the method.\n      if (!definition) { return; }\n\n      // build the correct list of arguments for the module definition\n      var args = _.flatten([\n        this,\n        this.app,\n        Backbone,\n        Marionette,\n        Backbone.$, _,\n        customArgs\n      ]);\n\n      definition.apply(this, args);\n    },\n\n    // Internal method: set up new copies of initializers and finalizers.\n    // Calling this method will wipe out all existing initializers and\n    // finalizers.\n    _setupInitializersAndFinalizers: function() {\n      this._initializerCallbacks = new Marionette.Callbacks();\n      this._finalizerCallbacks = new Marionette.Callbacks();\n    },\n\n    // import the `triggerMethod` to trigger events with corresponding\n    // methods if the method exists\n    triggerMethod: function(...args) { return Marionette.triggerMethod.apply(this, [this].concat(args)); }\n  });\n\n  // Class methods to create modules\n  _.extend(Marionette.Module, {\n\n    // Create a module, hanging off the app parameter as the parent object.\n    create: function(app, moduleNames, moduleDefinition) {\n      var module = app;\n\n      // get the custom args passed in after the module definition and\n      // get rid of the module name and definition function\n      var customArgs = _.drop(arguments, 3);\n\n      // Split the module names and get the number of submodules.\n      // i.e. an example module name of `Doge.Wow.Amaze` would\n      // then have the potential for 3 module definitions.\n      moduleNames = moduleNames.split('.');\n      var length = moduleNames.length;\n\n      // store the module definition for the last module in the chain\n      var moduleDefinitions = [];\n      moduleDefinitions[length - 1] = moduleDefinition;\n\n      // Loop through all the parts of the module definition\n      _.each(moduleNames, function(moduleName, i) {\n        var parentModule = module;\n        module = this._getModule(parentModule, moduleName, app, moduleDefinition);\n        this._addModuleDefinition(parentModule, module, moduleDefinitions[i], customArgs);\n      }, this);\n\n      // Return the last module in the definition chain\n      return module;\n    },\n\n    _getModule: function(parentModule, moduleName, app, def, args) {\n      var options = _.extend({}, def);\n      var ModuleClass = this.getClass(def);\n\n      // Get an existing module of this name if we have one\n      var module = parentModule[moduleName];\n\n      if (!module) {\n        // Create a new module if we don't have one\n        module = new ModuleClass(moduleName, app, options);\n        parentModule[moduleName] = module;\n        // store the module on the parent\n        parentModule.submodules[moduleName] = module;\n      }\n\n      return module;\n    },\n\n    // ## Module Classes\n    //\n    // Module classes can be used as an alternative to the define pattern.\n    // The extend function of a Module is identical to the extend functions\n    // on other Backbone and Marionette classes.\n    // This allows module lifecyle events like `onStart` and `onStop` to be called directly.\n    getClass: function(moduleDefinition) {\n      var ModuleClass = Marionette.Module;\n\n      if (!moduleDefinition) {\n        return ModuleClass;\n      }\n\n      // If all of the module's functionality is defined inside its class,\n      // then the class can be passed in directly. `MyApp.module(\"Foo\", FooModule)`.\n      if (moduleDefinition.prototype instanceof ModuleClass) {\n        return moduleDefinition;\n      }\n\n      return moduleDefinition.moduleClass || ModuleClass;\n    },\n\n    // Add the module definition and add a startWithParent initializer function.\n    // This is complicated because module definitions are heavily overloaded\n    // and support an anonymous function, module class, or options object\n    _addModuleDefinition: function(parentModule, module, def, args) {\n      var fn = this._getDefine(def);\n      var startWithParent = this._getStartWithParent(def, module);\n\n      if (fn) {\n        module.addDefinition(fn, args);\n      }\n\n      this._addStartWithParent(parentModule, module, startWithParent);\n    },\n\n    _getStartWithParent: function(def, module) {\n      var swp;\n\n      if (_.isFunction(def) && (def.prototype instanceof Marionette.Module)) {\n        swp = module.constructor.prototype.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n\n      if (_.isObject(def)) {\n        swp = def.startWithParent;\n        return _.isUndefined(swp) ? true : swp;\n      }\n\n      return true;\n    },\n\n    _getDefine: function(def) {\n      if (_.isFunction(def) && !(def.prototype instanceof Marionette.Module)) {\n        return def;\n      }\n\n      if (_.isObject(def)) {\n        return def.define;\n      }\n\n      return null;\n    },\n\n    _addStartWithParent: function(parentModule, module, startWithParent) {\n      module.startWithParent = module.startWithParent && startWithParent;\n\n      if (!module.startWithParent || !!module.startWithParentIsConfigured) {\n        return;\n      }\n\n      module.startWithParentIsConfigured = true;\n\n      parentModule.addInitializer(function(options) {\n        if (module.startWithParent) {\n          module.start(options);\n        }\n      });\n    }\n  });\n\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  var normalizeUIString = function(uiString, ui) {\n    return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, function(r) {\n      return ui[r.slice(4)];\n    });\n  };\n\n  Marionette.normalizeUIString = function(uiString, ui) {\n    Marionette.deprecate('normalizeUIString was removed in v3.');\n    return normalizeUIString.apply(this, arguments);\n  };\n\n  var normalizeUIKeys = function(hash, ui) {\n    return _.reduce(hash, function(memo, val, key) {\n      var normalizedKey = normalizeUIString(key, ui);\n      memo[normalizedKey] = val;\n      return memo;\n    }, {});\n  };\n\n  Marionette.normalizeUIKeys = function(hash, ui) {\n    Marionette.deprecate('normalizeUIKeys was removed in v3.');\n    return normalizeUIKeys.apply(this, arguments);\n  };\n\n  var normalizeUIValues = function(hash, ui, properties) {\n    _.each(hash, function(val, key) {\n      if (_.isString(val)) {\n        hash[key] = normalizeUIString(val, ui);\n      } else if (_.isObject(val) && _.isArray(properties)) {\n        _.extend(val, normalizeUIValues(_.pick(val, properties), ui));\n        /* Value is an object, and we got an array of embedded property names to normalize. */\n        _.each(properties, function(property) {\n          var propertyVal = val[property];\n          if (_.isString(propertyVal)) {\n            val[property] = normalizeUIString(propertyVal, ui);\n          }\n        });\n      }\n    });\n    return hash;\n  };\n\n  Marionette.normalizeUIValues = function(hash, ui, properties) {\n    Marionette.deprecate('normalizeUIValues was removed in v3.');\n    return normalizeUIValues.apply(this, arguments);\n  };\n\n}\n","import Marionette from 'backbone.marionette';\n\nexport default function() {\n  Marionette.proxyGetOption = function(optionName) {\n    Marionette.deprecate('proxyGetOption has been deprecated and removed in v3.');\n    return Marionette.getOption(this, optionName);\n  };\n\n  Marionette.proxyBindEntityEvents = function(entity, bindings) {\n    Marionette.deprecate('proxyBindEntityEvents has been deprecated and removed in v3.');\n    return Marionette.bindEvents(this, entity, bindings);\n  };\n\n  Marionette.proxyUnbindEntityEvents = function(entity, bindings) {\n    Marionette.deprecate('proxyUnbindEntityEvents has been deprecated and removed in v3.');\n    return Marionette.unbindEvents(this, entity, bindings);\n  };\n}\n","import Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  const originalShow = Marionette.Region.prototype.show;\n\n  Marionette.Region = Marionette.Region.extend({\n    attachView(view) {\n      Marionette.deprecate('Region#attachView was removed in v3. Use Region#show without fear of re-rendering.')\n      if (this.currentView) {\n        delete this.currentView._parent;\n      }\n      view._parent = this;\n      this.currentView = view;\n      return this;\n    },\n    show(view, options) {\n      if (!this._ensureElement(options)) {\n        return;\n      }\n      this._ensureView(view);\n      if (view === this.currentView) { return this; }\n      var isChangingView = !!this.currentView;\n      if (isChangingView) {\n        this.triggerMethod('before:swapOut', this.currentView, this, options);\n        this.triggerMethod('before:swap', view, this, options);\n        this.triggerMethod('swapOut', this.currentView, this, options);\n      }\n      originalShow.apply(this, arguments);\n      if (isChangingView) {\n        this.triggerMethod('swap', view, this, options);\n      }\n      return this;\n    },\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n   // Manage one or more related `Marionette.Region` objects.\n  Marionette.RegionManager = Marionette.Object.extend({\n    constructor: function(options) {\n      this._regions = {};\n      this.length = 0;\n\n      Marionette.Object.call(this, options);\n\n      this.addRegions(this.getOption('regions'));\n    },\n\n    // Add multiple regions using an object literal or a\n    // function that returns an object literal, where\n    // each key becomes the region name, and each value is\n    // the region definition.\n    addRegions: function(regionDefinitions, defaults) {\n      regionDefinitions = Marionette._getValue(regionDefinitions, this, arguments);\n\n      if (!_.isEmpty(regionDefinitions)) {\n        Marionette.deprecate('RegionManager is deprecated and removed in v3.');\n      }\n\n      return _.reduce(regionDefinitions, function(regions, definition, name) {\n        if (_.isString(definition)) {\n          definition = {selector: definition};\n        }\n        if (definition.selector) {\n          definition = _.defaults({}, definition, defaults);\n        }\n\n        regions[name] = this.addRegion(name, definition);\n        return regions;\n      }, {}, this);\n    },\n\n    // Add an individual region to the region manager,\n    // and return the region instance\n    addRegion: function(name, definition) {\n      var region;\n\n      if (definition instanceof Marionette.Region) {\n        region = definition;\n      } else {\n        region = Marionette.Region.buildRegion(definition, Marionette.Region);\n      }\n\n      this.triggerMethod('before:add:region', name, region);\n\n      region._parent = this;\n      this._store(name, region);\n\n      this.triggerMethod('add:region', name, region);\n      return region;\n    },\n\n    // Get a region by name\n    get: function(name) {\n      return this._regions[name];\n    },\n\n    // Gets all the regions contained within\n    // the `regionManager` instance.\n    getRegions: function() {\n      return _.clone(this._regions);\n    },\n\n    // Remove a region by name\n    removeRegion: function(name) {\n      var region = this._regions[name];\n      this._remove(name, region);\n\n      return region;\n    },\n\n    // Empty all regions in the region manager, and\n    // remove them\n    removeRegions: function() {\n      var regions = this.getRegions();\n      _.each(this._regions, function(region, name) {\n        this._remove(name, region);\n      }, this);\n\n      return regions;\n    },\n\n    // Empty all regions in the region manager, but\n    // leave them attached\n    emptyRegions: function() {\n      var regions = this.getRegions();\n      _.invoke(regions, 'empty');\n      return regions;\n    },\n\n    // Destroy all regions and shut down the region\n    // manager entirely\n    destroy: function() {\n      this.removeRegions();\n      return Marionette.Object.prototype.destroy.apply(this, arguments);\n    },\n\n    // internal method to store regions\n    _store: function(name, region) {\n      if (!this._regions[name]) {\n        this.length++;\n      }\n\n      this._regions[name] = region;\n    },\n\n    // internal method to remove a region\n    _remove: function(name, region) {\n      this.triggerMethod('before:remove:region', name, region);\n      region.empty();\n      region.stopListening();\n\n      delete region._parent;\n      delete this._regions[name];\n      this.length--;\n      this.triggerMethod('remove:region', name, region);\n    }\n  });\n\n  // Mix in methods from Underscore, for iteration, and other\n  // collection related features.\n  // Borrowing this code from Backbone.Collection:\n  // http://backbonejs.org/docs/backbone.html#section-121\n  var _actAsCollection = function(object, listProperty) {\n    var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n      'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n      'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n      'last', 'without', 'isEmpty', 'pluck'];\n\n    _.each(methods, function(method) {\n      object[method] = function() {\n        var list = _.values(_.result(this, listProperty));\n        var args = [list].concat(_.toArray(arguments));\n        return _[method].apply(_, args);\n      };\n    });\n  };\n\n  Marionette.actAsCollection = function(object, listProperty) {\n    Marionette.deprecate('actAsCollection is deprecated and removed in v3.');\n\n    return _actAsCollection.apply(this, arguments);\n  }\n\n  _actAsCollection(Marionette.RegionManager.prototype, '_regions');\n\n}\n","import _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  function dep() {\n    Marionette.deprecate('Show events are no longer triggered on the View.  User render or attach.');\n  }\n\n  var regionTriggerMethod = Marionette.Region.prototype.triggerMethod;\n\n  Marionette.Region.prototype.triggerMethod = function(name, region, view, options) {\n    var result;\n    if (name === 'before:show' || name === 'show') {\n      result = regionTriggerMethod.call(this, name, view, region, options);\n      if (!view._isShown) { Marionette.triggerMethodOn(view, name, view, region, options); }\n      if (name === 'show') { view._isShown = true; }\n      if (view.children) {\n        view.children.each(function(v) {\n          if (!v._isShown) { Marionette.triggerMethodOn(v, name, v); }\n          if (name === 'show') { v._isShown = true; }\n        });\n      }\n    } else {\n      result = regionTriggerMethod.apply(this, arguments);\n    }\n\n    return result;\n  };\n\n  var _addChildView = Marionette.CollectionView.prototype._addChildView;\n\n  Marionette.CollectionView.prototype._addChildView = function(view) {\n    _addChildView.apply(this, arguments);\n    if (this._isShown) {\n      if (!view._isShown) {\n        Marionette.triggerMethodOn(view, 'before:show', view); Marionette.triggerMethodOn(view, 'show', view);\n      }\n      view._isShown = true;\n    }\n  };\n\n\n  // split the event name on the \":\"\n  var splitter = /(^|:)(\\w)/gi;\n\n  // take the event section (\"section1:section2:section3\")\n  // and turn it in to uppercase name onSection1Section2Section3\n  function getEventName(match, prefix, eventName) {\n    return eventName.toUpperCase();\n  }\n\n  var trigger = Backbone.Events.trigger;\n\n  Backbone.Events.trigger = function(name) {\n    var isView = this.prototype instanceof Backbone.View || this === Backbone.View;\n    var isRegion = this.prototype instanceof Marionette.Region || this === Marionette.Region;\n    if (isView || isRegion) {\n      var methodName = 'on' + name.replace(splitter, getEventName);\n      var method = (this.options && this.options[methodName]) || this[methodName];\n\n      if (_.isFunction(method)) {\n        if (isView) {\n          dep();\n        } else {\n          if (method.length > 1) {\n            Marionette.deprecate('Region show events in v3 pass the region and the 1st argument and the view as the 2nd');\n          }\n        }\n      }\n\n      if (!this._events) { return this; }\n\n      if ((name === 'before:show' || name === 'show') && this._events[name]) {\n        if (isView) {\n          dep();\n        } else {\n          if (this._events[name].length > 1) {\n            Marionette.deprecate('Region show events in v3 pass the region and the 1st argument and the view as the 2nd');\n          }\n        }\n      }\n    }\n\n    return trigger.apply(this, arguments);\n  }\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  function dep() {\n    Marionette.deprecate('Regions attached to the Application are deprecated. Application now only has a single region.');\n  }\n\n  const originalConstructor = Marionette.Application.prototype.constructor;\n\n  Marionette.Application = Marionette.Application.extend({\n    constructor: function(options) {\n      this._initializeRegions(options);\n      originalConstructor.apply(this, arguments);\n    },\n\n    // Add regions to your app.\n    // Accepts a hash of named strings or Region objects\n    // addRegions({something: \"#someRegion\"})\n    // addRegions({something: Region.extend({el: \"#someRegion\"}) });\n    addRegions: function(regions) {\n      return this._regionManager.addRegions(regions);\n    },\n\n    // Empty all regions in the app, without removing them\n    emptyRegions: function() {\n      return this._regionManager.emptyRegions();\n    },\n\n    // Removes a region from your app, by name\n    // Accepts the regions name\n    // removeRegion('myRegion')\n    removeRegion: function(region) {\n      return this._regionManager.removeRegion(region);\n    },\n\n    // Provides alternative access to regions\n    // Accepts the region name\n    // getRegion('main')\n    getRegion: function(region) {\n      if (arguments.length) {\n        dep();\n        return this._regionManager.get(region);\n      }\n\n      return this._region;\n    },\n\n    // Get all the regions from the region manager\n    getRegions: function() {\n      return this._regionManager.getRegions();\n    },\n\n    // Enable easy overriding of the default `RegionManager`\n    // for customized region interactions and business-specific\n    // view logic for better control over single regions.\n    getRegionManager: function() {\n      return new Marionette.RegionManager();\n    },\n\n    // Internal method to initialize the regions that have been defined in a\n    // `regions` attribute on the application instance\n    _initializeRegions: function(options = {}) {\n      var regions = _.isFunction(this.regions) ? this.regions(options) : this.regions || {};\n\n      // Enable users to define `regions` in instance options.\n      var optionRegions = (options.options && options.options.regions) || options.regions;\n\n      // Enable region options to be a function\n      if (_.isFunction(optionRegions)) {\n        optionRegions = optionRegions.call(this, options);\n      }\n\n      // Overwrite current regions with those passed in options\n      _.extend(regions, optionRegions);\n\n      this._initRegionManager();\n\n      if (!_.isEmpty(regions)) {\n        dep();\n\n        this.addRegions(regions);\n      }\n\n      return this;\n    },\n\n    // Internal method to set up the region manager\n    _initRegionManager: function() {\n      this._regionManager = this.getRegionManager();\n      this._regionManager._parent = this;\n\n      this.listenTo(this._regionManager, 'before:add:region', function(name, region) {\n        this.triggerMethod('before:add:region', name, region);\n      });\n\n      this.listenTo(this._regionManager, 'add:region', function(name, region) {\n        this[name] = region;\n        this.triggerMethod('add:region', name, region);\n      });\n\n      this.listenTo(this._regionManager, 'before:remove:region', function(name, region) {\n        this.triggerMethod('before:remove:region', name, region);\n      });\n\n      this.listenTo(this._regionManager, 'remove:region', function(name, region) {\n        delete this[name];\n        this.triggerMethod('remove:region', name, region);\n      });\n    }\n  })\n\n}\n","import _ from 'underscore';\nimport Backbone from 'backbone';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  function dep() {\n    Marionette.deprecate('Regions attached to the view are deprecated. Use View#getRegion or View#showChildView');\n  }\n\n  function _addRegion(view, name, region) {\n    const regionShow = region.show;\n    const regionEmpty = region.empty;\n    const regionReset = region.reset;\n    const regionOn = region.on;\n\n    const newRegion = _.extend({}, region, {\n      on() {\n        dep();\n        regionOn.apply(this, arguments);\n      },\n      show() {\n        dep();\n        regionShow.apply(this, arguments);\n      },\n      empty() {\n        dep();\n        regionEmpty.apply(this, arguments);\n      },\n      reset() {\n        dep();\n        regionReset.apply(this, arguments);\n      },\n      __deprecatedRegion: true\n    });\n\n    view[name] = newRegion;\n  }\n\n  function _removeRegion(view, name, region) {\n    delete view[name];\n  }\n\n  const listenTo = Backbone.View.prototype.listenTo;\n\n  Backbone.View.prototype.listenTo = function(obj) {\n    if (obj.__deprecatedRegion) { dep(); }\n    listenTo.apply(this, arguments);\n  }\n\n  const initRegions = Marionette.View.prototype._initRegions;\n\n  _.extend(Marionette.View.prototype, {\n    _initRegions() {\n      this.regionClass = Marionette.Region;\n      this.on({\n        'add:region': _addRegion,\n        'remove:region': _removeRegion\n      });\n      initRegions.apply(this, arguments);\n    }\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  _.extend(Marionette.Region, {\n\n    buildRegion: function(regionConfig, DefaultRegionClass) {\n\n      Marionette.deprecate('Region Static Options are deprecated and removed in v3.');\n\n      if (_.isString(regionConfig)) {\n        return this._buildRegionFromSelector(regionConfig, DefaultRegionClass);\n      }\n\n      if (regionConfig.selector || regionConfig.el || regionConfig.regionClass) {\n        return this._buildRegionFromObject(regionConfig, DefaultRegionClass);\n      }\n\n      if (_.isFunction(regionConfig)) {\n        return this._buildRegionFromRegionClass(regionConfig);\n      }\n\n      throw new Marionette.Error({\n        message: 'Improper region configuration type.',\n        url: 'marionette.region.html#region-configuration-types'\n      });\n    },\n\n    // Build the region from a string selector like '#foo-region'\n    _buildRegionFromSelector: function(selector, DefaultRegionClass) {\n      return new DefaultRegionClass({el: selector});\n    },\n\n    // Build the region from a configuration object\n    // ```js\n    // { selector: '#foo', regionClass: FooRegion, allowMissingEl: false }\n    // ```\n    _buildRegionFromObject: function(regionConfig, DefaultRegionClass) {\n      var RegionClass = regionConfig.regionClass || DefaultRegionClass;\n      var options = _.omit(regionConfig, 'selector', 'regionClass');\n\n      if (regionConfig.selector && !options.el) {\n        options.el = regionConfig.selector;\n      }\n\n      return new RegionClass(options);\n    },\n\n    // Build the region directly from a given `RegionClass`\n    _buildRegionFromRegionClass: function(RegionClass) {\n      return new RegionClass();\n    }\n  });\n\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n  function mixinTemplateContext(target = {}) {\n    if (this.templateHelpers || this.options.templateHelpers) {\n      Marionette.deprecate('templateHelpers are deprecated. Use templateContext');\n      this.mergeOptions(this.options, ['templateHelpers']);\n      const templateHelpers = _.result(this, 'templateHelpers');\n      return _.extend(target, templateHelpers);\n    }\n\n    const templateContext = _.result(this, 'templateContext');\n    return _.extend(target, templateContext);\n  }\n\n  function mixinTemplateHelpers() {\n    Marionette.deprecate('mixinTemplateHelpers was renamed mixinTemplateContext in v3.');\n    mixinTemplateContext.apply(this, arguments);\n  }\n\n  _.extend(Marionette.View.prototype, {\n    mixinTemplateContext,\n    mixinTemplateHelpers\n  });\n\n  _.extend(Marionette.CompositeView.prototype, {\n    mixinTemplateContext,\n    mixinTemplateHelpers\n  });\n}\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nexport default function() {\n\n  // split the event name on the \":\"\n  var splitter = /(^|:)(\\w)/gi;\n\n  // take the event section (\"section1:section2:section3\")\n  // and turn it in to uppercase name onSection1Section2Section3\n  function getEventName(match, prefix, eventName) {\n    return eventName.toUpperCase();\n  }\n\n  const triggerParent = Marionette.View.prototype._triggerEventOnParentLayout;\n\n  function _triggerEventOnParentLayout(eventName, ...args) {\n    const layoutView = this._parentView();\n    if (!layoutView) { return; }\n\n    args = args || [];\n\n    const eventPrefix = _.result(layoutView, 'childViewEventPrefix');\n    const prefixedEventName = eventPrefix + ':' + eventName;\n\n    var methodName = 'on' + prefixedEventName.replace(splitter, getEventName);\n    var method = (layoutView.options && layoutView.options[methodName]) || layoutView[methodName];\n\n    // If this is true we expect that it is expecting `this`\n    // as its first argument\n    if ((_.isFunction(method) && method.length) === args.length + 1 ||\n        (layoutView._events && layoutView._events[prefixedEventName] && layoutView._events[prefixedEventName].length) === args.length + 1) {\n      args = [this].concat(args);\n      Marionette.deprecate('The triggering view is no longer prepended on to the arguments of proxied child events.');\n    }\n\n    return triggerParent.apply(this, [eventName].concat(args));\n  }\n\n  _.extend(Marionette.View.prototype, {\n    _triggerEventOnParentLayout\n  });\n\n  _.extend(Marionette.CompositeView.prototype, {\n    _triggerEventOnParentLayout\n  });\n}\n","import Marionette from 'backbone.marionette';\nimport _ from 'underscore';\n\nexport default function() {\n\n  const originalConstructor = Marionette.View.prototype.constructor;\n\n  Marionette.View = Marionette.View.extend({\n    constructor(options) {\n      const args = Array.prototype.slice.call(arguments);\n\n      if (_.isFunction(options)) {\n        Marionette.deprecate('Marionette.View options is no longer supported as a function. Please use an object instead.');\n        options = options();\n        args[0] = options;\n      }\n\n\n      originalConstructor.apply(this, args);\n    },\n\n  });\n};\n","import _ from 'underscore';\nimport Marionette from 'backbone.marionette';\n\nimport ApplicationWreqr from './ApplicationWreqr';\nimport bindEntityEvents from './bindEntityEvents';\nimport childEvents from './childEvents';\nimport CollectionView from './CollectionView';\nimport CompositeView from './CompositeView';\nimport Controller from './Controller';\nimport deprecatedEvents from './deprecatedEvents';\nimport getChildView from './getChildView';\nimport ItemView from './ItemView';\nimport LayoutView from './LayoutView';\nimport Module from './Module';\nimport normalizeUi from './normalizeUi';\nimport proxyFunctions from './proxyFunctions';\nimport Region from './Region';\nimport RegionManager from './RegionManager';\nimport RegionShowEvent from './RegionShowEvent';\nimport regionsOnApplication from './regionsOnApplication';\nimport regionsOnView from './regionsOnView';\nimport RegionStaticMethods from './RegionStaticMethods';\nimport templateHelpers from './templateHelpers';\nimport triggerProxy from './triggerProxy';\nimport viewOptions from './viewOptions';\n\nMarionette.DEV_MODE = true;\nMarionette.VERSION = 'marionette-v3-compat';\n\n// Add a console.trace to the deprecate message\nMarionette.deprecate._warn = function() {\n  const warn = Marionette.deprecate._console.warn || Marionette.deprecate._console.log || function() {};\n  console.trace();\n  return warn.apply(Marionette.deprecate._console, arguments);\n};\n\nMarionette._getValue = function(value, context, params) {\n  if (_.isFunction(value)) {\n    value = params ? value.apply(context, params) : value.call(context);\n  }\n  return value;\n};\n\nexport default function(opts = {}) {\n  const patches = _.extend({\n    ApplicationWreqr,\n    bindEntityEvents,\n    childEvents,\n    CollectionView,\n    CompositeView,\n    Controller,\n    deprecatedEvents,\n    getChildView,\n    ItemView,\n    LayoutView,\n    Module,\n    normalizeUi,\n    proxyFunctions,\n    Region,\n    RegionManager,\n    RegionShowEvent,\n    regionsOnApplication,\n    regionsOnView,\n    RegionStaticMethods,\n    templateHelpers,\n    triggerProxy,\n    viewOptions\n  }, opts);\n\n  _.mapObject(patches, function(patch) {\n    if (_.isFunction(patch)) {\n      patch();\n    }\n  });\n}\n"],"names":[],"mappings":"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","sourceRoot":"/source/"}